<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DENGURU:: 앱 문의/ 건의하기</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <div class="wrap">
        <header class="header03 header03_white">
            <h1 class="h_title">앱 문의/ 건의하기</h1>
            <div class="btn_box">
                <a href="javascript:document.referrer? history.back() : location.href = 'my_complain.html'" class="btn_goback btn_left">
                    <img src="/images/icon-goback.svg" alt="이전페이지" class="icon">
                </a>
            </div>
        </header>

        <div class="main">
            <div class="pd_header03"></div>
            <div class="complain_container">
                <h2 class="title08">1:1 문의하기</h2>

                <div class="complain_write_container">
                    <form onsubmit="onSubmitForm()">
                        <div class="inp_box04">
                            <div class="inp_txt_box">
                                <label for="complainEmail" class="lab_txt">이메일</label>
                                <input type="email" name="complainEmail" class="inp_txt js-input" id="complainEmail" value="abc@gmail.com" label="이메일" disabled>
                            </div>
                        </div>
                        <div class="inp_box04">
                            <div class="inp_txt_box">
                                <label for="complainTitle" class="lab_txt">제목</label>
                                <input type="text" name="complainTitle" class="inp_txt" id="complainTitle" label="제목" maxlength="50">
                            </div>
                            <div class="txt_right inp_message">
                                <span id="countTxtLimit" class="js-txt-limit-count">0 </span>/ 50
                            </div>
                        </div>
                        <div class="inp_box02">
                            <div class="lab_box">
                                <label for="complainText" class="lab">내 용</label>
                            </div>
                            <div class="inp_box">
                                <textarea name="complainText" id="complainText" class="inp inp_textarea" onkeydown="resizeTextarea(this)" onkeyup="resizeTextarea(this)"></textarea>
                            </div>
                        </div>
                        <div class="inp_box04">
                            <div class="inp_txt_box">
                                <div class="lab_txt">파일첨부</div>
                                <div class="inp_txt js-filename"></div>
                                <input type="file" name="complainFile" class="inp_txt js-input" id="complainFile" hidden accept="image/gif,image/jpeg,image/png">
                                <label for="complainFile" class="btn btn_linkstyle">
                                    <img src="/images/icon-camera-main.svg" alt="파일첨부 버튼" class="icon">
                                </label>
                            </div>
                            <div class="txt_right inp_message js-txt-limit">
                                최대용량 2MB 이내 파일만 등록하실 수 있습니다.
                            </div>
                        </div>
                        <div class="btn_box">
                            <button type="submit" class="btn btn_half btn_main">확인</button>
                            <button type="reset" class="btn btn_half btn_main_line btn_right">취소</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        //
        function resizeTextarea(obj) {
            obj.style.height = "1px";
            obj.style.height = (8+obj.scrollHeight)+"px";
        }
        //
        function countText(val) {
            var valueTxtNum = val.value.length;
            document.getElementById('countTxtLimit').innerHTML = valueTxtNum;
        }
        document.getElementById('complainTitle').addEventListener('keyup',function(){
            countText(this);
        });
        
        document.getElementById('complainFile').addEventListener('input',function(){
            var fileurl = this.value;
            var filename = fileurl.substring(fileurl.lastIndexOf('\\')+1, fileurl.length);
            var boxFilename = document.querySelector('.js-filename');

            boxFilename.textContent = filename;
        });

        function onSubmitForm(){
            event.preventDefault();
            alert('문의사항이 접수되었습니다')
            location.href = '/my_main_resister.html';
        };

    </script>
</body>
</html>